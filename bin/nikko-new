#!/usr/bin/env node

var program = require('commander');
var nikkoNew = require('../lib/nikko-new');

/*
 * TODO: We should have a context
 * providing things like: if we are on a
 * nikko project directory, then we know where
 * the generated files should go.
 *
 * TODO: We should be able to execute command after
 * creation:
 * nikko -i -o /tmp/src -e "subl {path}" <= exec templates
 */
program
  .option('-t, --template <template>', 'force installation', 'post')
  .option('-i, --interactive', 'Interactive data generation')
  .option('-d, --data-path <path>', 'Path to data file')
  .option('-f, --force', 'Overwrite a file that exists with same name')
  .option('-o, --output-path <path>', 'Output path', process.env.PWD)
  .option('-e, --exec <command>', 'Execute command after')
  .parse(process.argv);

// nikko new -i -o /tmp/nikko.com/src/_posts/
nikkoNew({
    template: program.template,
    interactive: program.interactive,
    data: program.dataPath,
    force: program.force,
    output: program.outputPath
});